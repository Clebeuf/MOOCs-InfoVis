<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<!-- Style sheet for entire page -->
	<link rel="stylesheet" type="text/css" href="css/base.css">
	<!-- Style sheet for D3 -->
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link rel="stylesheet" type="text/css" href="https://syntagmatic.github.io/parallel-coordinates/d3.parcoords.css">
	<title>MOOCs Success InfoVis</title>
</head>

<body onload="validate()">

	<div class="container">
		<h1>Visualizing MOOCs Success</h1>

		<!-- Where the D3 Visualizations go -->
		<section id="chart">
			<!-- D3 Code goes here -->
		</section>

		<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
		<script src="https://syntagmatic.github.io/parallel-coordinates/d3.parcoords.js"></script>

		<script src="http://d3js.org/topojson.v1.min.js"></script>
		<script src="js/datamaps.world.min.js"></script>

		<form>
			<br><input type="radio" value='' name="rate" id="explored" onclick="validate()" checked> Explored
			<br><input type="radio" value='' name="rate" id="not_explored" onclick="validate()"> Not Explored
		</form>
		<div id="example" class="parcoords" style="width:1000px;height:400px"></div>

		<script>

			var pc = d3.parcoords({
					dimensionTitles: {
						nplay_video: "video plays",
						final_cc_cname_DI: "country",
						LoE_DI: "level of education",
						nevents: "# of events",
						nforum_posts: "# of forums posts",
						nchapters: "# of chapters",
						ndays_act: "# days active"
					}
				})('#example')
			var datasetA
			var datasetB

			function validate() {

			        if (document.getElementById('explored').checked) {
						d3.json("data/explored.json", function(data) {
								var colorgen = d3.scale.ordinal().range(["brown","steelblue"]);
								var color = function(d) { return colorgen(d.certified); };

								pc.data(data)

								.ticks(4)
								.mode("queue")
								.color(color)
								.composite("darker")
								.alpha(0.15)
								.render()
								.dimensions(['LoE_DI', 'ndays_act', 'nchapters', 'nplay_video', 'nevents', 'nforum_posts', 'grade', 'certified'])
								.createAxes()
								.brushMode("1D-axes")
								.interactive()
								.reorderable();
						});

			        } else if (document.getElementById('not_explored').checked) {
						d3.json("data/output100.json", function(data) {
								pc.data(data)

								.ticks(4)
								.mode("queue")
								.alpha(0.15)
								.render()
								.dimensions(['LoE_DI', 'ndays_act', 'nchapters', 'nplay_video', 'nevents', 'nforum_posts', 'grade', 'certified'])
								.createAxes()
								.brushMode("1D-axes")
								.interactive()
								.reorderable();
						});
			        }
			}

		</script>

		<div id="basic" style="position: relative; width: 60%; height: 400px;"></div>


	     <script>
	       //basic map config with custom fills, mercator projection
			var basic = new Datamap({
				element: document.getElementById("basic")
			});
	     </script>

 	</div>
</body>
</html>
